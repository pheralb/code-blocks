---
title: Line Anchors
description: Add unique IDs to each line in code blocks, enabling URL-based navigation to specific lines with visual highlighting.
category: [Shiki, Markdown, MDX]
---

<Showcase containerClassName="space-y-3">

```ts title="Code block with 'example' prefix" prefix="example" lineNumbers
const code = `console.log('Hello World')`;
const highlighter = await highlight();
const html = highlighter.codeToHtml(code, {
  lang: "javascript",
  transformers: [lineAnchors({ addPrefix: "example" })],
});
```

```html {3,6,9} title="Output HTML"
<pre>
  <code>
    <span class="line" id="example-l1" data-line="1">
      <!--...-->
    </span>
    <span class="line" id="example-l2" data-line="2">
      <!--...-->
    </span>
    <span class="line" id="example-l3" data-line="3">
      <!--...-->
    </span>
  </code>
</pre>
```

<LineAnchorsExample />

</Showcase>

## Installation

### shadcn/ui

<CopyShadcnCommand name="shiki-line-anchors" />

### Manual

1. Copy the `lineAnchors` transformer into your project:

<ShowSource component="shiki-line-anchors" />

2. `shiki-line-anchors` styles are defined in the `shiki.css` file:

<DocCard folder="shiki" document="highlighter" anchor="styles" />

## Usage

### `shikijs/rehype`

1. Import the transformer in your `rehypeShiki` plugin:

```ts {1,5} title="Rehype Shiki Options"
import { lineAnchors } from "@/utils/shiki/transformers/line-anchors";

const rehypeShikiOptions: RehypeShikiCoreOptions = {
  //...
  transformers: [lineAnchors()],
};

export { rehypeShikiOptions };
```

2. In your Markdown or MDX files add the `prefix` option to your code blocks:

````mdx
```javascript prefix="example"
console.log("Hello World");
```
````

### `highlight`

Import the transformer in your [`highlight()`](/docs/shiki/highlighter) function with `addPrefix` property:

```ts {2,8} title="Using lineAnchors with highlighter"
import { highlight } from "@/utils/shiki";
import { lineAnchors } from "@/utils/shiki/transformers/line-anchors";

const code = `console.log('hello')`;
const highlighter = await highlight();
const html = highlighter.codeToHtml(code, {
  //...
  transformers: [lineAnchors({ addPrefix: "example" })],
});
```
